<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Programming with Data | Data Handling Pocket Reference</title>
  <meta name="description" content="A guide to practical data handling with a focus on R and data analytics in economics and the social sciences." />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Programming with Data | Data Handling Pocket Reference" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://umatter.github.io/datahandling/img/cover.png" />
  <meta property="og:description" content="A guide to practical data handling with a focus on R and data analytics in economics and the social sciences." />
  <meta name="github-repo" content="umatter/datahandling" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Programming with Data | Data Handling Pocket Reference" />
  
  <meta name="twitter:description" content="A guide to practical data handling with a focus on R and data analytics in economics and the social sciences." />
  <meta name="twitter:image" content="https://umatter.github.io/datahandling/img/cover.png" />

<meta name="author" content="Ulrich Matter" />


<meta name="date" content="2022-10-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction.html"/>
<link rel="next" href="data.html"/>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Handling</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#prerequisites-and-aims"><i class="fa fa-check"></i>Prerequisites and aims</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="programming-with-data.html"><a href="programming-with-data.html"><i class="fa fa-check"></i><b>2</b> Programming with Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="programming-with-data.html"><a href="programming-with-data.html#handling-data-programmatically"><i class="fa fa-check"></i><b>2.1</b> Handling data programmatically</a></li>
<li class="chapter" data-level="2.2" data-path="programming-with-data.html"><a href="programming-with-data.html#why-r"><i class="fa fa-check"></i><b>2.2</b> Why <em>R</em>?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="programming-with-data.html"><a href="programming-with-data.html#the-data-language"><i class="fa fa-check"></i><b>2.2.1</b> The ‘data language’</a></li>
<li class="chapter" data-level="2.2.2" data-path="programming-with-data.html"><a href="programming-with-data.html#high-level-language-relatively-easy-to-learn"><i class="fa fa-check"></i><b>2.2.2</b> High-level language, relatively easy to learn</a></li>
<li class="chapter" data-level="2.2.3" data-path="programming-with-data.html"><a href="programming-with-data.html#free-open-source-large-community"><i class="fa fa-check"></i><b>2.2.3</b> Free, open source, large community</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="programming-with-data.html"><a href="programming-with-data.html#rrstudio-overview"><i class="fa fa-check"></i><b>2.3</b> <em>R</em>/RStudio overview</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="programming-with-data.html"><a href="programming-with-data.html#the-r-console"><i class="fa fa-check"></i><b>2.3.1</b> The <em>R</em>-Console</a></li>
<li class="chapter" data-level="2.3.2" data-path="programming-with-data.html"><a href="programming-with-data.html#r-scripts"><i class="fa fa-check"></i><b>2.3.2</b> <em>R</em>-Scripts</a></li>
<li class="chapter" data-level="2.3.3" data-path="programming-with-data.html"><a href="programming-with-data.html#r-environment"><i class="fa fa-check"></i><b>2.3.3</b> <em>R</em> Environment</a></li>
<li class="chapter" data-level="2.3.4" data-path="programming-with-data.html"><a href="programming-with-data.html#file-browser"><i class="fa fa-check"></i><b>2.3.4</b> File Browser</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="programming-with-data.html"><a href="programming-with-data.html#first-steps-with-r"><i class="fa fa-check"></i><b>2.4</b> First steps with R</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="programming-with-data.html"><a href="programming-with-data.html#values-vectors-and-variables"><i class="fa fa-check"></i><b>2.4.1</b> Values, Vectors, and Variables</a></li>
<li class="chapter" data-level="2.4.2" data-path="programming-with-data.html"><a href="programming-with-data.html#math-operators"><i class="fa fa-check"></i><b>2.4.2</b> Math operators</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="programming-with-data.html"><a href="programming-with-data.html#basic-programming-concepts-in-r"><i class="fa fa-check"></i><b>2.5</b> Basic programming concepts in R</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="programming-with-data.html"><a href="programming-with-data.html#loops"><i class="fa fa-check"></i><b>2.5.1</b> Loops</a></li>
<li class="chapter" data-level="2.5.2" data-path="programming-with-data.html"><a href="programming-with-data.html#for-loops"><i class="fa fa-check"></i><b>2.5.2</b> For-loops</a></li>
<li class="chapter" data-level="2.5.3" data-path="programming-with-data.html"><a href="programming-with-data.html#booleans-and-logical-statements"><i class="fa fa-check"></i><b>2.5.3</b> Booleans and logical statements</a></li>
<li class="chapter" data-level="2.5.4" data-path="programming-with-data.html"><a href="programming-with-data.html#r-functions"><i class="fa fa-check"></i><b>2.5.4</b> R functions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#processing-data-simple-calculations-in-numeral-systems"><i class="fa fa-check"></i><b>3.1</b> Processing data: simple calculations in numeral systems</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data.html"><a href="data.html#the-binary-system"><i class="fa fa-check"></i><b>3.1.1</b> The binary system</a></li>
<li class="chapter" data-level="3.1.2" data-path="data.html"><a href="data.html#the-hexadecimal-system"><i class="fa fa-check"></i><b>3.1.2</b> The hexadecimal system</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#character-encoding"><i class="fa fa-check"></i><b>3.2</b> Character encoding</a></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#computer-code-and-text-files"><i class="fa fa-check"></i><b>3.3</b> Computer code and text files</a></li>
<li class="chapter" data-level="3.4" data-path="data.html"><a href="data.html#data-processing-basics"><i class="fa fa-check"></i><b>3.4</b> Data processing basics</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data.html"><a href="data.html#components-of-a-standard-computing-environment"><i class="fa fa-check"></i><b>3.4.1</b> Components of a standard computing environment</a></li>
<li class="chapter" data-level="3.4.2" data-path="data.html"><a href="data.html#illustration"><i class="fa fa-check"></i><b>3.4.2</b> Illustration</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-storage-and-data-structures.html"><a href="data-storage-and-data-structures.html"><i class="fa fa-check"></i><b>4</b> Data Storage and Data Structures</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-storage-and-data-structures.html"><a href="data-storage-and-data-structures.html#unstructured-data-in-text-files"><i class="fa fa-check"></i><b>4.1</b> Unstructured data in text files</a></li>
<li class="chapter" data-level="4.2" data-path="data-storage-and-data-structures.html"><a href="data-storage-and-data-structures.html#structured-data-formats"><i class="fa fa-check"></i><b>4.2</b> Structured data formats</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-storage-and-data-structures.html"><a href="data-storage-and-data-structures.html#csvs-and-fixed-width-format"><i class="fa fa-check"></i><b>4.2.1</b> CSVs and fixed-width format</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-storage-and-data-structures.html"><a href="data-storage-and-data-structures.html#units-of-informationdata-storage"><i class="fa fa-check"></i><b>4.3</b> Units of information/data storage</a></li>
<li class="chapter" data-level="4.4" data-path="data-storage-and-data-structures.html"><a href="data-storage-and-data-structures.html#data-structures-and-data-types-in-r"><i class="fa fa-check"></i><b>4.4</b> Data structures and data types in R</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="data-storage-and-data-structures.html"><a href="data-storage-and-data-structures.html#data-types"><i class="fa fa-check"></i><b>4.4.1</b> Data types</a></li>
<li class="chapter" data-level="4.4.2" data-path="data-storage-and-data-structures.html"><a href="data-storage-and-data-structures.html#data-structures"><i class="fa fa-check"></i><b>4.4.2</b> Data structures</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="high-dimensional-data.html"><a href="high-dimensional-data.html"><i class="fa fa-check"></i><b>5</b> High-Dimensional Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="high-dimensional-data.html"><a href="high-dimensional-data.html#deciphering-xml"><i class="fa fa-check"></i><b>5.1</b> Deciphering XML</a></li>
<li class="chapter" data-level="5.2" data-path="high-dimensional-data.html"><a href="high-dimensional-data.html#deciphering-json"><i class="fa fa-check"></i><b>5.2</b> Deciphering JSON</a></li>
<li class="chapter" data-level="5.3" data-path="high-dimensional-data.html"><a href="high-dimensional-data.html#parsing-xml-and-json-in-r"><i class="fa fa-check"></i><b>5.3</b> Parsing XML and JSON in R</a></li>
<li class="chapter" data-level="5.4" data-path="high-dimensional-data.html"><a href="high-dimensional-data.html#html"><i class="fa fa-check"></i><b>5.4</b> HTML</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="high-dimensional-data.html"><a href="high-dimensional-data.html#write-a-simple-webpage-with-html"><i class="fa fa-check"></i><b>5.4.1</b> Write a simple webpage with HTML</a></li>
<li class="chapter" data-level="5.4.2" data-path="high-dimensional-data.html"><a href="high-dimensional-data.html#two-ways-to-read-a-webpage-into-r"><i class="fa fa-check"></i><b>5.4.2</b> Two ways to read a webpage into R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="text-data.html"><a href="text-data.html"><i class="fa fa-check"></i><b>6</b> Text Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="text-data.html"><a href="text-data.html#introduction-1"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="text-data.html"><a href="text-data.html#one-package-to-rule-them-all-quanteda"><i class="fa fa-check"></i><b>6.2</b> One Package To Rule Them All: Quanteda</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="text-data.html"><a href="text-data.html#from-raw-text-to-corpus-step-1"><i class="fa fa-check"></i><b>6.2.1</b> From raw text to corpus: step (1)</a></li>
<li class="chapter" data-level="6.2.2" data-path="text-data.html"><a href="text-data.html#from-corpus-to-tokens-steps-2-and-3"><i class="fa fa-check"></i><b>6.2.2</b> From corpus to tokens: steps (2) and (3)</a></li>
<li class="chapter" data-level="6.2.3" data-path="text-data.html"><a href="text-data.html#from-tokens-to-document-term-matrix-dtm-steps-3-and-4"><i class="fa fa-check"></i><b>6.2.3</b> 3. From tokens to document-term-matrix (dtm): steps (3) and (4)</a></li>
<li class="chapter" data-level="6.2.4" data-path="text-data.html"><a href="text-data.html#from-dtm-to-analysis-and-insights"><i class="fa fa-check"></i><b>6.2.4</b> 4. From dtm to analysis and insights</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="image-data.html"><a href="image-data.html"><i class="fa fa-check"></i><b>7</b> Image data</a>
<ul>
<li class="chapter" data-level="7.1" data-path="image-data.html"><a href="image-data.html#image-data-structure-and-storage"><i class="fa fa-check"></i><b>7.1</b> Image data structure and storage</a></li>
<li class="chapter" data-level="7.2" data-path="image-data.html"><a href="image-data.html#raster-images-in-r"><i class="fa fa-check"></i><b>7.2</b> Raster images in R</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="image-data.html"><a href="image-data.html#basic-data-structure"><i class="fa fa-check"></i><b>7.2.1</b> Basic data structure</a></li>
<li class="chapter" data-level="7.2.2" data-path="image-data.html"><a href="image-data.html#advanced-image-manipulation-using-imagemagick"><i class="fa fa-check"></i><b>7.2.2</b> Advanced Image Manipulation using ImageMagick</a></li>
<li class="chapter" data-level="7.2.3" data-path="image-data.html"><a href="image-data.html#optical-character-recognition"><i class="fa fa-check"></i><b>7.2.3</b> Optical Character Recognition</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="image-data.html"><a href="image-data.html#vector-images-in-r"><i class="fa fa-check"></i><b>7.3</b> Vector Images in R</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html"><i class="fa fa-check"></i><b>8</b> Data Sources, Data Gathering, Data Import</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#sourcesformats"><i class="fa fa-check"></i><b>8.1</b> Sources/formats</a></li>
<li class="chapter" data-level="8.2" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#data-gathering-procedure"><i class="fa fa-check"></i><b>8.2</b> Data gathering procedure</a></li>
<li class="chapter" data-level="8.3" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#loadingimporting-rectangular-data"><i class="fa fa-check"></i><b>8.3</b> Loading/importing rectangular data</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#loading-built-in-datasets"><i class="fa fa-check"></i><b>8.3.1</b> Loading built-in datasets</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#importing-rectangular-data-from-text-files"><i class="fa fa-check"></i><b>8.3.2</b> Importing rectangular data from text-files</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#import-and-parse-with-readr"><i class="fa fa-check"></i><b>8.4</b> Import and parse with <code>readr</code></a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#basic-usage-of-readr-functions"><i class="fa fa-check"></i><b>8.4.1</b> Basic usage of <code>readr</code> functions</a></li>
<li class="chapter" data-level="8.4.2" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#parsing-and-data-types"><i class="fa fa-check"></i><b>8.4.2</b> Parsing and data types</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#importing-web-data-formats"><i class="fa fa-check"></i><b>8.5</b> Importing web data formats</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#xml-in-r"><i class="fa fa-check"></i><b>8.5.1</b> XML in R</a></li>
<li class="chapter" data-level="8.5.2" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#json-in-r"><i class="fa fa-check"></i><b>8.5.2</b> JSON in R</a></li>
<li class="chapter" data-level="8.5.3" data-path="data-sources-data-gathering-data-import.html"><a href="data-sources-data-gathering-data-import.html#tutorial-advanced-importing-data-from-a-html-table-on-a-website"><i class="fa fa-check"></i><b>8.5.3</b> Tutorial (advanced): Importing data from a HTML table (on a website)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-preparation.html"><a href="data-preparation.html"><i class="fa fa-check"></i><b>9</b> Data Preparation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-preparation.html"><a href="data-preparation.html#cleaning-data-with-basic-string-operations"><i class="fa fa-check"></i><b>9.1</b> Cleaning data with basic string operations</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="data-preparation.html"><a href="data-preparation.html#findreplace-character-strings-recode-factor-levels"><i class="fa fa-check"></i><b>9.1.1</b> Find/replace character strings, recode factor levels</a></li>
<li class="chapter" data-level="9.1.2" data-path="data-preparation.html"><a href="data-preparation.html#removing-individual-characters-from-a-string"><i class="fa fa-check"></i><b>9.1.2</b> Removing individual characters from a string</a></li>
<li class="chapter" data-level="9.1.3" data-path="data-preparation.html"><a href="data-preparation.html#splitting-strings"><i class="fa fa-check"></i><b>9.1.3</b> Splitting strings</a></li>
<li class="chapter" data-level="9.1.4" data-path="data-preparation.html"><a href="data-preparation.html#parsing-dates"><i class="fa fa-check"></i><b>9.1.4</b> Parsing dates</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-preparation.html"><a href="data-preparation.html#reshaping-datasets"><i class="fa fa-check"></i><b>9.2</b> Reshaping datasets</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="data-preparation.html"><a href="data-preparation.html#tidying-messy-datasets."><i class="fa fa-check"></i><b>9.2.1</b> Tidying messy datasets.</a></li>
<li class="chapter" data-level="9.2.2" data-path="data-preparation.html"><a href="data-preparation.html#pivoting-from-wide-to-long"><i class="fa fa-check"></i><b>9.2.2</b> Pivoting from ‘wide to long’</a></li>
<li class="chapter" data-level="9.2.3" data-path="data-preparation.html"><a href="data-preparation.html#pivoting-from-long-to-wide-spreading"><i class="fa fa-check"></i><b>9.2.3</b> Pivoting from ‘long to wide’ (“spreading”)</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="data-preparation.html"><a href="data-preparation.html#tutorial-hotel-bookings-time-series"><i class="fa fa-check"></i><b>9.3</b> Tutorial: Hotel Bookings Time Series</a></li>
<li class="chapter" data-level="9.4" data-path="data-preparation.html"><a href="data-preparation.html#set-up-and-import"><i class="fa fa-check"></i><b>9.4</b> Set up and import</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="data-analysis-first-steps.html"><a href="data-analysis-first-steps.html"><i class="fa fa-check"></i><b>10</b> Data Analysis: First Steps</a>
<ul>
<li class="chapter" data-level="10.1" data-path="data-analysis-first-steps.html"><a href="data-analysis-first-steps.html#mergingjoining-datasets"><i class="fa fa-check"></i><b>10.1</b> Merging/joining datasets</a></li>
<li class="chapter" data-level="10.2" data-path="data-analysis-first-steps.html"><a href="data-analysis-first-steps.html#selecting-subsets"><i class="fa fa-check"></i><b>10.2</b> Selecting subsets</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="data-analysis-first-steps.html"><a href="data-analysis-first-steps.html#filtering-datasets"><i class="fa fa-check"></i><b>10.2.1</b> Filtering datasets</a></li>
<li class="chapter" data-level="10.2.2" data-path="data-analysis-first-steps.html"><a href="data-analysis-first-steps.html#mutating-datasets"><i class="fa fa-check"></i><b>10.2.2</b> Mutating datasets</a></li>
<li class="chapter" data-level="10.2.3" data-path="data-analysis-first-steps.html"><a href="data-analysis-first-steps.html#aggregation-and-summary-statistics"><i class="fa fa-check"></i><b>10.2.3</b> Aggregation and summary statistics</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="data-analysis-first-steps.html"><a href="data-analysis-first-steps.html#tutorial-analise-messy-excel-sheets"><i class="fa fa-check"></i><b>10.3</b> Tutorial: Analise messy Excel sheets</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="data-analysis-first-steps.html"><a href="data-analysis-first-steps.html#preparatory-steps"><i class="fa fa-check"></i><b>10.3.1</b> Preparatory steps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="basic-econometrics-in-r.html"><a href="basic-econometrics-in-r.html"><i class="fa fa-check"></i><b>11</b> Basic Econometrics in R</a>
<ul>
<li class="chapter" data-level="11.1" data-path="basic-econometrics-in-r.html"><a href="basic-econometrics-in-r.html#statistical-modeling"><i class="fa fa-check"></i><b>11.1</b> Statistical modeling</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="basic-econometrics-in-r.html"><a href="basic-econometrics-in-r.html#illustration-with-pseudo-data"><i class="fa fa-check"></i><b>11.1.1</b> Illustration with pseudo-data</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="basic-econometrics-in-r.html"><a href="basic-econometrics-in-r.html#estimation-and-application"><i class="fa fa-check"></i><b>11.2</b> Estimation and Application</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="basic-econometrics-in-r.html"><a href="basic-econometrics-in-r.html#model-specification"><i class="fa fa-check"></i><b>11.2.1</b> Model specification</a></li>
<li class="chapter" data-level="11.2.2" data-path="basic-econometrics-in-r.html"><a href="basic-econometrics-in-r.html#raw-data"><i class="fa fa-check"></i><b>11.2.2</b> Raw data</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="basic-econometrics-in-r.html"><a href="basic-econometrics-in-r.html#derivation-and-implementation-of-ols-estimator"><i class="fa fa-check"></i><b>11.3</b> Derivation and implementation of OLS estimator</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="basic-econometrics-in-r.html"><a href="basic-econometrics-in-r.html#regression-toolbox-in-r"><i class="fa fa-check"></i><b>11.3.1</b> Regression toolbox in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>12</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="12.1" data-path="data-visualization.html"><a href="data-visualization.html#data-display"><i class="fa fa-check"></i><b>12.1</b> Data display</a></li>
<li class="chapter" data-level="12.2" data-path="data-visualization.html"><a href="data-visualization.html#data-visualization-with-ggplot2"><i class="fa fa-check"></i><b>12.2</b> Data visualization with <code>ggplot2</code></a></li>
<li class="chapter" data-level="12.3" data-path="data-visualization.html"><a href="data-visualization.html#grammar-of-graphics"><i class="fa fa-check"></i><b>12.3</b> ‘Grammar of Graphics’</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="data-visualization.html"><a href="data-visualization.html#ggplot2-basics"><i class="fa fa-check"></i><b>12.3.1</b> <code>ggplot2</code> basics</a></li>
<li class="chapter" data-level="12.3.2" data-path="data-visualization.html"><a href="data-visualization.html#tutorial"><i class="fa fa-check"></i><b>12.3.2</b> Tutorial</a></li>
<li class="chapter" data-level="12.3.3" data-path="data-visualization.html"><a href="data-visualization.html#loadingpreparing-the-data"><i class="fa fa-check"></i><b>12.3.3</b> Loading/preparing the data</a></li>
<li class="chapter" data-level="12.3.4" data-path="data-visualization.html"><a href="data-visualization.html#geometries-type-of-plot"><i class="fa fa-check"></i><b>12.3.4</b> Geometries (~ type of plot)</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="data-visualization.html"><a href="data-visualization.html#dynamic-documents"><i class="fa fa-check"></i><b>12.4</b> Dynamic documents</a></li>
<li class="chapter" data-level="12.5" data-path="data-visualization.html"><a href="data-visualization.html#tutorial-how-to-give-the-wrong-impression-with-data-visualization"><i class="fa fa-check"></i><b>12.5</b> Tutorial: How to give the wrong impression with data visualization</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="data-visualization.html"><a href="data-visualization.html#background-and-aim"><i class="fa fa-check"></i><b>12.5.1</b> Background and aim</a></li>
<li class="chapter" data-level="12.5.2" data-path="data-visualization.html"><a href="data-visualization.html#data-import-and-preparation"><i class="fa fa-check"></i><b>12.5.2</b> Data import and preparation</a></li>
<li class="chapter" data-level="12.5.3" data-path="data-visualization.html"><a href="data-visualization.html#plot"><i class="fa fa-check"></i><b>12.5.3</b> Plot</a></li>
<li class="chapter" data-level="12.5.4" data-path="data-visualization.html"><a href="data-visualization.html#cosmetics-theme"><i class="fa fa-check"></i><b>12.5.4</b> Cosmetics: theme</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendix-a.html"><a href="appendix-a.html"><i class="fa fa-check"></i><b>A</b> Appendix A</a>
<ul>
<li class="chapter" data-level="A.1" data-path="appendix-a.html"><a href="appendix-a.html#understanding-statistics-and-probability-with-code"><i class="fa fa-check"></i><b>A.1</b> Understanding statistics and probability with code</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="appendix-a.html"><a href="appendix-a.html#random-draws-and-distributions"><i class="fa fa-check"></i><b>A.1.1</b> Random draws and distributions</a></li>
<li class="chapter" data-level="A.1.2" data-path="appendix-a.html"><a href="appendix-a.html#illustration-of-variability"><i class="fa fa-check"></i><b>A.1.2</b> Illustration of variability</a></li>
<li class="chapter" data-level="A.1.3" data-path="appendix-a.html"><a href="appendix-a.html#skewness-and-kurtosis"><i class="fa fa-check"></i><b>A.1.3</b> Skewness and Kurtosis</a></li>
<li class="chapter" data-level="A.1.4" data-path="appendix-a.html"><a href="appendix-a.html#the-law-of-large-numbers"><i class="fa fa-check"></i><b>A.1.4</b> The Law of Large Numbers</a></li>
<li class="chapter" data-level="A.1.5" data-path="appendix-a.html"><a href="appendix-a.html#the-central-limit-theorem"><i class="fa fa-check"></i><b>A.1.5</b> The Central Limit Theorem</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://umatter.github.io" target="blank">umatter.github.io</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Handling Pocket Reference</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programming-with-data" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Programming with Data<a href="programming-with-data.html#programming-with-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="handling-data-programmatically" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Handling data programmatically<a href="programming-with-data.html#handling-data-programmatically" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The need for proper handling of large amounts of digital data has given rise to the interdisciplinary field of <a href="https://en.wikipedia.org/wiki/Data_science">‘Data Science’</a> as well as an increasing demand for ‘Data Scientists’. While nothing within Data Science is particularly new on its own, it is the combination of skills and insights from different fields (particularly Computer Science and Statistics) that has proven to be very productive in meeting new challenges posed by a data-driven economy. The various facets of this new craft are often illustrated in the ‘Data Science’ Venn diagram, reflecting the combination of knowledge and skills from Mathematics/Statistics, substantive expertise in the particular scientific field in which Data Science is applied (here: Economics), and the skills for <em>acquiring, cleaning, and analyzing</em> data <em>programmatically</em>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:venn"></span>
<img src="img/venn_diagramm.png" alt="Venn diagram illustrating the domains of Data Science in the context of Economics." width="60%" />
<p class="caption">
Figure 2.1: Venn diagram illustrating the domains of Data Science in the context of Economics.
</p>
</div>

<p>In the proposed framework of Data Science in Economics followed in this book, programming skills, basic knowledge about computing and in data technologies serve as a complement to engaging in modern economic analysis. They are necessary ingredients to both working new econometric approaches in machine learning (and the preceding feature engineering) as well as to solving complex problems in the domain of economic modeling. Moreover, programming (or ‘coding’) is the basis to better understand and engage with the handling of data for analytics purposes.</p>
<p>While industry-scale data science projects tend to include data processing frameworks and programming languages (such as Scala, Python, and SQL), we will see that the core steps of how to get from the raw data to the final analysis report can for most simpler data projects be easily managed with just one programming language. In the case of this book, we choose <em>R</em>.</p>
</div>
<div id="why-r" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Why <em>R</em>?<a href="programming-with-data.html#why-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-data-language" class="section level3 hasAnchor" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> The ‘data language’<a href="programming-with-data.html#the-data-language" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The programming language and open-source statistical computing environment <a href="www.r-project.org"><em>R</em></a> has over the last decade become a core tool for data science in industry and academia. It was originally designed as a tool for statistical analysis. Many characteristics of the language make <em>R</em> particularly useful to work with data. <em>R</em> is increasingly used in various domains, going well beyond the traditional applications of academic research.</p>
</div>
<div id="high-level-language-relatively-easy-to-learn" class="section level3 hasAnchor" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> High-level language, relatively easy to learn<a href="programming-with-data.html#high-level-language-relatively-easy-to-learn" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><em>R</em> is a relatively easy computer language to learn for people with no previous programming experience. The syntax is rather intuitive and error messages are not too cryptic to understand (this facilitates learning by doing). Moreover, with <em>R</em>’s recent stark rise in popularity, there are plenty of freely accessible resources online that help beginners to learn the language.</p>
</div>
<div id="free-open-source-large-community" class="section level3 hasAnchor" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Free, open source, large community<a href="programming-with-data.html#free-open-source-large-community" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Due to its vast base of contributors, <em>R</em> serves as a valuable tool for users in various fields related to data analysis and computation (economics/econometrics, biomedicine, business analytics, etc.). <em>R</em> users have direct access to thousands of freely available ‘<em>R</em>-packages’ (small software libraries written in <em>R</em>), covering diverse aspects of data analysis, statistics, data preparation, and data import.</p>
<p>Hence, a lot of people using <em>R</em> as a tool in their daily work do not actually ‘write programs’ (in the traditional sense of the word), but apply <em>R</em> packages. Applied econometrics with <em>R</em> is a good example of this. Almost any function a modern commercial computing environment with a focus on statistics and econometrics (such as <a href="http://www.stata.com/">STATA</a>) is offering, can also be found within the <em>R</em> environment. Furthermore, there are <em>R</em> packages covering all the areas of modern data analytics, including natural language processing, machine learning, big data analytics, etc. (see the <a href="https://cran.r-project.org/web/views/">CRAN Task Views</a> for an overview). We thus do not actually have to write a program for many tasks we perform with <em>R</em>. Instead, we can build on already existing and reliable packages.</p>
</div>
</div>
<div id="rrstudio-overview" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> <em>R</em>/RStudio overview<a href="programming-with-data.html#rrstudio-overview" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><em>R</em> is the high-level (meaning ‘more user friendly’) programming language for statistical computing. Once we have installed <em>R</em> on our computer, we can run it…</p>
<ol style="list-style-type: lower-alpha">
<li>…directly from the command line, by typing <code>R</code> and hit enter (here in the OSX terminal):</li>
</ol>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:terminal"></span>
<img src="img/r_terminal.png" alt="Running R in the Mac/OSX terminal." width="60%" />
<p class="caption">
Figure 2.2: Running <em>R</em> in the Mac/OSX terminal.
</p>
</div>

<ol start="2" style="list-style-type: lower-alpha">
<li>…with the simple <a href="https://en.wikipedia.org/wiki/Integrated_development_environment">Integrated Development Environment (IDE)</a> delivered with the basic <em>R</em> installation</li>
</ol>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ide"></span>
<img src="img/r_ide.png" alt="Running R in the original R GUI/IDE." width="75%" />
<p class="caption">
Figure 2.3: Running <em>R</em> in the original <em>R</em> GUI/IDE.
</p>
</div>

<ol start="3" style="list-style-type: lower-alpha">
<li>…or with the more elaborated and user-friendly IDE called <em>RStudio</em> (either locally or in the cloud, see, for example <a href="https://rstudio.cloud/">RStudio Cloud</a>:</li>
</ol>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:rstudio"></span>
<img src="img/rstudio_panels.png" alt="Running R in RStudio (IDE)." width="75%" />
<p class="caption">
Figure 2.4: Running <em>R</em> in RStudio (IDE).
</p>
</div>

<p>The latter is what we will do throughout this course. RStudio is a very helpful tool for simple data analysis with <em>R</em>, writing <em>R</em> scripts (short <em>R</em> programs), or even for developing <em>R</em> packages (software written in <em>R</em>), as well as building interactive documents, presentations, etc. Moreover, it offers many options to change its own appearance (Pane Layout, Code Highlighting, etc.).</p>
<p>In the following, we have a look at each of the main panels that will be relevant in this course.</p>
<div id="the-r-console" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> The <em>R</em>-Console<a href="programming-with-data.html#the-r-console" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When working in an interactive session, we simply type <em>R</em> commands directly into the <em>R</em> console. Typically, the output of executing a command this way is also directly printed to the console. Hence, we type a command on one line, hit enter, and the output is presented on the next line.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:console"></span>
<img src="img/rstudio_console.png" alt="Running R in the Mac/OSX terminal." width="75%" />
<p class="caption">
Figure 2.5: Running <em>R</em> in the Mac/OSX terminal.
</p>
</div>

<p>For example, we can tell <em>R</em> to print the phrase <code>Hello world</code> to the console, by typing to following command in the console and hit enter:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="programming-with-data.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Hello world&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Hello world&quot;</code></pre>
</div>
<div id="r-scripts" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> <em>R</em>-Scripts<a href="programming-with-data.html#r-scripts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Apart from very short interactive sessions, it usually makes sense to write <em>R</em> code not directly in the command line but to an <em>R</em>-script in the script panel. This way, we can easily execute several lines at once, comment the code (to explain what it does), save it on our hard disk, and further develop the code later on.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:rscript"></span>
<img src="img/rstudio_script.png" alt="The R Script window in RStudio." width="75%" />
<p class="caption">
Figure 2.6: The <em>R</em> Script window in RStudio.
</p>
</div>

</div>
<div id="r-environment" class="section level3 hasAnchor" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> <em>R</em> Environment<a href="programming-with-data.html#r-environment" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The environment pane shows what variables, objects, and data are loaded in our current <em>R</em> session. Moreover, it offers functions to open documents and import data.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:renvironment"></span>
<img src="img/rstudio_environment.png" alt="The environment window in RStudio." width="50%" />
<p class="caption">
Figure 2.7: The environment window in RStudio.
</p>
</div>

</div>
<div id="file-browser" class="section level3 hasAnchor" number="2.3.4">
<h3><span class="header-section-number">2.3.4</span> File Browser<a href="programming-with-data.html#file-browser" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>With the file browser window we can navigate through the folder structure and files on our computer’s hard disk, modify files, and set the working directory of our current <em>R</em> session. Moreover, it has a pane to show plots generated in <em>R</em> and a pane with help pages and <em>R</em> documentation.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:rfiles"></span>
<img src="img/rstudio_files.png" alt="The file browser window in RStudio." width="50%" />
<p class="caption">
Figure 2.8: The file browser window in RStudio.
</p>
</div>

</div>
</div>
<div id="first-steps-with-r" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> First steps with R<a href="programming-with-data.html#first-steps-with-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Before introducing some of the key functions and packages for data handling and data analysis with R, we should understand how such programs basically work and how we can write them in R. Once we understand the basics of the R language and how to write simple programs, understanding and applying already implemented programs is much easier.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<div id="values-vectors-and-variables" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> Values, Vectors, and Variables<a href="programming-with-data.html#values-vectors-and-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The simplest objects to work with in R are vectors. In fact, even a simple numeric value such as <code>5.5</code> or a string of characters (text) like <code>"Hello"</code> is considered a vector (a scalar).<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>A first good step to get familiar with coding in R is to assign names to the objects/values you are working with. For example, when summing up two numeric values, you might want to store the result in a separate object and call this object <code>result</code>. This is done with the assignment operator <code>&lt;-</code> (or <code>=</code>, which serves the same purpose).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="programming-with-data.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assign the variable name &quot;result&quot; to the sum of two numeric values</span></span>
<span id="cb3-2"><a href="programming-with-data.html#cb3-2" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> <span class="fl">25.6</span> <span class="sc">+</span> <span class="fl">53.4</span> </span></code></pre></div>
<p>Whenever you want to re-use the just computed sum, you can directly call the object by its name (the variable <code>result</code>):</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="programming-with-data.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># check what &quot;is stored in&quot; result</span></span>
<span id="cb4-2"><a href="programming-with-data.html#cb4-2" aria-hidden="true" tabindex="-1"></a>result</span></code></pre></div>
<pre><code>## [1] 79</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="programming-with-data.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># further work with the value in result</span></span>
<span id="cb6-2"><a href="programming-with-data.html#cb6-2" aria-hidden="true" tabindex="-1"></a>result <span class="sc">-</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] 59</code></pre>
<p>With the combine-function (<code>c()</code>), you easily form vectors with several elements and name the elements in the vector. By doing so, you create a very simple dataset. For example, suppose you survey the age of a sample of persons. The age values (in years) gives you an integer vector. By naming each integer value (each vector element) after the corresponding person’s name, you then have a simple dataset stored in a named R vector.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="programming-with-data.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a simple integer vector</span></span>
<span id="cb8-2"><a href="programming-with-data.html#cb8-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">22</span>,<span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">40</span>)</span>
<span id="cb8-3"><a href="programming-with-data.html#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="programming-with-data.html#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># give names to vector elements</span></span>
<span id="cb8-5"><a href="programming-with-data.html#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(a) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Andy&quot;</span>, <span class="st">&quot;Betty&quot;</span>, <span class="st">&quot;Claire&quot;</span>, <span class="st">&quot;Daniel&quot;</span>, <span class="st">&quot;Eva&quot;</span>)</span>
<span id="cb8-6"><a href="programming-with-data.html#cb8-6" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>##   Andy  Betty Claire Daniel    Eva 
##     10     22     33     22     40</code></pre>
<p>To retrieve specific values from this vector, you can either select the corresponding vector element with the element’s index (the first, second, third, etc. element) or via its name.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="programming-with-data.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># indexing either via a number of vector element (start count with 1)</span></span>
<span id="cb10-2"><a href="programming-with-data.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co"># or by element name</span></span>
<span id="cb10-3"><a href="programming-with-data.html#cb10-3" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">3</span>]</span></code></pre></div>
<pre><code>## Claire 
##     33</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="programming-with-data.html#cb12-1" aria-hidden="true" tabindex="-1"></a>a[<span class="st">&quot;Claire&quot;</span>]</span></code></pre></div>
<pre><code>## Claire 
##     33</code></pre>
<p>When not sure what kind of object <code>a</code> is, the <code>str()</code> (structure) function, provides you with a short summary.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="programming-with-data.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect the object you are working with</span></span>
<span id="cb14-2"><a href="programming-with-data.html#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(a) <span class="co"># returns the structure of the object (&quot;what is in variable a?&quot;)</span></span></code></pre></div>
<pre><code>##  Named num [1:5] 10 22 33 22 40
##  - attr(*, &quot;names&quot;)= chr [1:5] &quot;Andy&quot; &quot;Betty&quot; &quot;Claire&quot; &quot;Daniel&quot; ...</code></pre>
<p>If you want to learn more about what the <code>c()</code> or <code>str()</code> functions (or any other pre-defined R functions) do and how they should be used, type <code>help(FUNCTION-NAME)</code> or <code>?FUNCTION-NAME</code> in the console and hit enter. A help-page with detailed explanations of what the function is for and how it can be used will appear in one of the R-Studio panels.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="programming-with-data.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(str)</span>
<span id="cb16-2"><a href="programming-with-data.html#cb16-2" aria-hidden="true" tabindex="-1"></a>?c</span></code></pre></div>
</div>
<div id="math-operators" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> Math operators<a href="programming-with-data.html#math-operators" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Above, we have just in a side remark introduced the very intuitive syntax for two common math operators in R: <code>+</code> for the addition of numeric or integer values, and <code>-</code> for subtraction. R knows all basic math operators and has a variety of functions to handle more advanced mathematical problems. One basic practical application of R in academic life is to use it as a sophisticated (and programmable) calculator.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="programming-with-data.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># basic arithmetic</span></span>
<span id="cb17-2"><a href="programming-with-data.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="programming-with-data.html#cb19-1" aria-hidden="true" tabindex="-1"></a>sum_result <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">+</span><span class="dv">2</span></span>
<span id="cb19-2"><a href="programming-with-data.html#cb19-2" aria-hidden="true" tabindex="-1"></a>sum_result</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="programming-with-data.html#cb21-1" aria-hidden="true" tabindex="-1"></a>sum_result <span class="sc">-</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="programming-with-data.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span><span class="sc">*</span><span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="programming-with-data.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span><span class="sc">/</span><span class="dv">5</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="programming-with-data.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># order of operations</span></span>
<span id="cb27-2"><a href="programming-with-data.html#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span><span class="sc">*</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="programming-with-data.html#cb29-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">2</span><span class="sc">+</span><span class="dv">2</span>)<span class="sc">*</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="programming-with-data.html#cb31-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">5</span><span class="sc">+</span><span class="dv">5</span>)<span class="sc">/</span>(<span class="dv">2</span><span class="sc">+</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="programming-with-data.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># work with variables</span></span>
<span id="cb33-2"><a href="programming-with-data.html#cb33-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb33-3"><a href="programming-with-data.html#cb33-3" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb33-4"><a href="programming-with-data.html#cb33-4" aria-hidden="true" tabindex="-1"></a>a<span class="sc">/</span>b</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="programming-with-data.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># arithmetics with vectors</span></span>
<span id="cb35-2"><a href="programming-with-data.html#cb35-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">6</span>)</span>
<span id="cb35-3"><a href="programming-with-data.html#cb35-3" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1]  2  8 12</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="programming-with-data.html#cb37-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">40</span>,<span class="dv">80</span>)</span>
<span id="cb37-2"><a href="programming-with-data.html#cb37-2" aria-hidden="true" tabindex="-1"></a>a <span class="sc">*</span> b</span></code></pre></div>
<pre><code>## [1]  10 160 480</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="programming-with-data.html#cb39-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">+</span> b</span></code></pre></div>
<pre><code>## [1] 11 44 86</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="programming-with-data.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># other common math operators and functions</span></span>
<span id="cb41-2"><a href="programming-with-data.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span><span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 16</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="programming-with-data.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">4</span><span class="sc">^</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="programming-with-data.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 0.6931</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="programming-with-data.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 22026</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="programming-with-data.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="fu">exp</span>(<span class="dv">10</span>))</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>To look up the most common math operators in R and get more details about how to use them type</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="programming-with-data.html#cb51-1" aria-hidden="true" tabindex="-1"></a>?<span class="st">`</span><span class="at">+</span><span class="st">`</span></span></code></pre></div>
<p>in the R console and hit enter.</p>
</div>
</div>
<div id="basic-programming-concepts-in-r" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Basic programming concepts in R<a href="programming-with-data.html#basic-programming-concepts-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In very simple terms, programming/coding is all about using a computer language to instruct a computer what to do. What reads very complex at first sight, is actually rather simple in (at least for a large array of basic programming problems). At the core of almost any R program is the right application and combination of just a handful of basic programming concepts: loops, logical statements, control statements, and functions. Once you a) conceptually understand what these concepts are for, and b) have learned the syntax of how to use these concepts when writing a program in R, addressing all kind of data handling problems efficiently with R, will simply become a matter of training/practice.</p>
<div id="loops" class="section level3 hasAnchor" number="2.5.1">
<h3><span class="header-section-number">2.5.1</span> Loops<a href="programming-with-data.html#loops" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A loop is typically a sequence of statements executed a specific number of times. How often the code ‘inside’ the loop is executed depends on a clearly defined control statement. If we know in advance how often the code inside the loop has to be executed, we typically write a so-called ‘for-loop’. We typically write a so-called’ while-loop’ if the number of iterations is not clearly known before executing the code. The following subsections illustrate both of these concepts in R.</p>
</div>
<div id="for-loops" class="section level3 hasAnchor" number="2.5.2">
<h3><span class="header-section-number">2.5.2</span> For-loops<a href="programming-with-data.html#for-loops" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In simple terms, a for-loop tells the computer to execute a sequence of commands ‘for each case in a set of n cases’. The flowchart in Figure @ref(fig: for) illustrates the concept.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:for"></span>
<img src="img/forloop.png" alt="For-loop illustration." width="40%" />
<p class="caption">
Figure 2.9: For-loop illustration.
</p>
</div>

<p>For example, a for-loop could be used, to sum up each element in a numeric vector of fixed length (thus, the number of iterations is clearly defined). In plain English, the for-loop would state something like: “Start with 0 as the current total value, for each of the elements in the vector, add the value of this element to the current total value.” Note how this logically implies that the loop will ‘stop’ once the value of the last element in the vector is added to the total. Let’s illustrate this in R. Take the numeric vector <code>c(1,2,3,4,5)</code>. A for loop to sum up all elements can be implemented as follows:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="programming-with-data.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># vector to be summed up</span></span>
<span id="cb52-2"><a href="programming-with-data.html#cb52-2" aria-hidden="true" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="fl">2.1</span>,<span class="fl">3.5</span>,<span class="fl">4.8</span>,<span class="dv">5</span>)</span>
<span id="cb52-3"><a href="programming-with-data.html#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="co"># initiate total</span></span>
<span id="cb52-4"><a href="programming-with-data.html#cb52-4" aria-hidden="true" tabindex="-1"></a>total_sum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb52-5"><a href="programming-with-data.html#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="co"># number of iterations</span></span>
<span id="cb52-6"><a href="programming-with-data.html#cb52-6" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(numbers)</span>
<span id="cb52-7"><a href="programming-with-data.html#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="co"># start loop</span></span>
<span id="cb52-8"><a href="programming-with-data.html#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb52-9"><a href="programming-with-data.html#cb52-9" aria-hidden="true" tabindex="-1"></a>     total_sum <span class="ot">&lt;-</span> total_sum <span class="sc">+</span> numbers[i]</span>
<span id="cb52-10"><a href="programming-with-data.html#cb52-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-11"><a href="programming-with-data.html#cb52-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-12"><a href="programming-with-data.html#cb52-12" aria-hidden="true" tabindex="-1"></a><span class="co"># check result</span></span>
<span id="cb52-13"><a href="programming-with-data.html#cb52-13" aria-hidden="true" tabindex="-1"></a>total_sum</span></code></pre></div>
<pre><code>## [1] 16.4</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="programming-with-data.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># compare with the result of sum() function</span></span>
<span id="cb54-2"><a href="programming-with-data.html#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(numbers)</span></code></pre></div>
<pre><code>## [1] 16.4</code></pre>
<div id="nested-for-loops" class="section level4 hasAnchor" number="2.5.2.1">
<h4><span class="header-section-number">2.5.2.1</span> Nested for-loops<a href="programming-with-data.html#nested-for-loops" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In some situations, a simple for-loop might not be sufficient. Within one sequence of commands, there might be another sequence of commands that also has to be executed for a number of times each time the first sequence of commands is executed. In such a case, we speak of a ‘nested for-loop’. We can illustrate this easily by extending the example of the numeric vector above to a matrix for which we want to sum up the values in each column. Building on the loop implemented above, we would say ‘for each column <code>j</code> of a given numeric matrix, execute the for-loop defined above’.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="programming-with-data.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># matrix to be summed up</span></span>
<span id="cb56-2"><a href="programming-with-data.html#cb56-2" aria-hidden="true" tabindex="-1"></a>numbers_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span>
<span id="cb56-3"><a href="programming-with-data.html#cb56-3" aria-hidden="true" tabindex="-1"></a>numbers_matrix</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    1    6   11   16
## [2,]    2    7   12   17
## [3,]    3    8   13   18
## [4,]    4    9   14   19
## [5,]    5   10   15   20</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="programming-with-data.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of iterations for the outer loop</span></span>
<span id="cb58-2"><a href="programming-with-data.html#cb58-2" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">ncol</span>(numbers_matrix)</span>
<span id="cb58-3"><a href="programming-with-data.html#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co"># number of iterations for the inner loop</span></span>
<span id="cb58-4"><a href="programming-with-data.html#cb58-4" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(numbers_matrix)</span>
<span id="cb58-5"><a href="programming-with-data.html#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co"># start outer loop (loop over columns of the matrix)</span></span>
<span id="cb58-6"><a href="programming-with-data.html#cb58-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>m) {</span>
<span id="cb58-7"><a href="programming-with-data.html#cb58-7" aria-hidden="true" tabindex="-1"></a>     <span class="co"># start inner loop</span></span>
<span id="cb58-8"><a href="programming-with-data.html#cb58-8" aria-hidden="true" tabindex="-1"></a>     <span class="co"># initiate total</span></span>
<span id="cb58-9"><a href="programming-with-data.html#cb58-9" aria-hidden="true" tabindex="-1"></a>     total_sum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb58-10"><a href="programming-with-data.html#cb58-10" aria-hidden="true" tabindex="-1"></a>     <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n) {</span>
<span id="cb58-11"><a href="programming-with-data.html#cb58-11" aria-hidden="true" tabindex="-1"></a>          total_sum <span class="ot">&lt;-</span> total_sum <span class="sc">+</span> numbers_matrix[i, j]</span>
<span id="cb58-12"><a href="programming-with-data.html#cb58-12" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb58-13"><a href="programming-with-data.html#cb58-13" aria-hidden="true" tabindex="-1"></a>     <span class="fu">print</span>(total_sum)</span>
<span id="cb58-14"><a href="programming-with-data.html#cb58-14" aria-hidden="true" tabindex="-1"></a>     }</span></code></pre></div>
<pre><code>## [1] 15
## [1] 40
## [1] 65
## [1] 90</code></pre>
</div>
<div id="while-loop" class="section level4 hasAnchor" number="2.5.2.2">
<h4><span class="header-section-number">2.5.2.2</span> While-loop<a href="programming-with-data.html#while-loop" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In a situation where a program has to repeatedly run a sequence of commands, but we don’t know in advance how many iterations we need to reach the intended goal, a while-loop can help. In simple terms, a while loop keeps executing a sequence of commands as long as a certain logical statement is true. The flow chart in Figure @ref(fig: while) illustrates this point.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:while"></span>
<img src="img/while_loop_own.png" alt="While-loop illustration." width="70%" />
<p class="caption">
Figure 2.10: While-loop illustration.
</p>
</div>

<p>For example, a while-loop in plain English could state something like “start with 0 as the total, add 1.12 to the total until the total is larger than 20.” We can implement this in R as follows.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="programming-with-data.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># initiate starting value</span></span>
<span id="cb60-2"><a href="programming-with-data.html#cb60-2" aria-hidden="true" tabindex="-1"></a>total <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb60-3"><a href="programming-with-data.html#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="co"># start loop</span></span>
<span id="cb60-4"><a href="programming-with-data.html#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> (total <span class="sc">&lt;=</span> <span class="dv">20</span>) {</span>
<span id="cb60-5"><a href="programming-with-data.html#cb60-5" aria-hidden="true" tabindex="-1"></a>     total <span class="ot">&lt;-</span> total <span class="sc">+</span> <span class="fl">1.12</span></span>
<span id="cb60-6"><a href="programming-with-data.html#cb60-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb60-7"><a href="programming-with-data.html#cb60-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-8"><a href="programming-with-data.html#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="co"># check the result</span></span>
<span id="cb60-9"><a href="programming-with-data.html#cb60-9" aria-hidden="true" tabindex="-1"></a>total</span></code></pre></div>
<pre><code>## [1] 20.16</code></pre>
</div>
</div>
<div id="booleans-and-logical-statements" class="section level3 hasAnchor" number="2.5.3">
<h3><span class="header-section-number">2.5.3</span> Booleans and logical statements<a href="programming-with-data.html#booleans-and-logical-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Note that in order to write a meaningful while-loop we have to make use of a logical statement such as “the value stored in the variable <code>total</code>is smaller or equal to <code>20</code>” (<code>total &lt;= 20</code>). A logical statement results in a ‘Boolean’ data type. That is, a data type with the only two possible values <code>TRUE</code> or <code>FALSE</code> (<code>1</code> or <code>0</code>).</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="programming-with-data.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">+</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="programming-with-data.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">+</span><span class="dv">3</span> <span class="sc">==</span> <span class="dv">7</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Logical statements play an important role in fundamental programming concepts. In particular, they are crucial to make conditional statements (‘if-statements’) that build the control structure of a program, controlling the ‘direction’ the program takes (given certain conditions).</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="programming-with-data.html#cb66-1" aria-hidden="true" tabindex="-1"></a>condition <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb66-2"><a href="programming-with-data.html#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (condition) {</span>
<span id="cb66-3"><a href="programming-with-data.html#cb66-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">print</span>(<span class="st">&quot;This is true!&quot;</span>)</span>
<span id="cb66-4"><a href="programming-with-data.html#cb66-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb66-5"><a href="programming-with-data.html#cb66-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">print</span>(<span class="st">&quot;This is false!&quot;</span>)</span>
<span id="cb66-6"><a href="programming-with-data.html#cb66-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;This is true!&quot;</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="programming-with-data.html#cb68-1" aria-hidden="true" tabindex="-1"></a>condition <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb68-2"><a href="programming-with-data.html#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (condition) {</span>
<span id="cb68-3"><a href="programming-with-data.html#cb68-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">print</span>(<span class="st">&quot;This is true!&quot;</span>)</span>
<span id="cb68-4"><a href="programming-with-data.html#cb68-4" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb68-5"><a href="programming-with-data.html#cb68-5" aria-hidden="true" tabindex="-1"></a>     <span class="fu">print</span>(<span class="st">&quot;This is false!&quot;</span>)</span>
<span id="cb68-6"><a href="programming-with-data.html#cb68-6" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;This is false!&quot;</code></pre>
</div>
<div id="r-functions" class="section level3 hasAnchor" number="2.5.4">
<h3><span class="header-section-number">2.5.4</span> R functions<a href="programming-with-data.html#r-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R programs heavily rely on functions. Conceptually, ‘functions’ in R are very similar to what we know as ‘functions’ in math (i.e., <span class="math inline">\(f:X \rightarrow Y\)</span>). A function can thus, e.g., take a variable <span class="math inline">\(X\)</span> as input and provide value <span class="math inline">\(Y\)</span> as output. The actual calculation of <span class="math inline">\(Y\)</span> based on <span class="math inline">\(X\)</span> can be something as simple as <span class="math inline">\(2\times X = Y\)</span>. But it could also be a very complex algorithm or an operation that does not directly have anything to do with numbers and arithmetic.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<p>In R—and many other programming languages—functions take ‘parameter values’ as input, process those values according to a predefined program, and ‘return’ the result. For example, a function could take a numeric vector as input and return the sum of all the individual numeric values in the input vector.</p>
<p>When we open RStudio, all basic functions are already loaded automatically. This means we can directly call them from the R-Console or by executing an R-Script. As R is made for data analysis and statistics, the basic functions loaded with R cover many aspects of tasks related to working with and analyzing data. Besides these basic functions, thousands of additional functions covering all kinds of topics related to data analysis can be loaded additionally by installing the respective R-packages (<code>install. packages("PACKAGE-NAME")</code>) and then loading the packages with <code>library(PACKAGE-NAME)</code>. In addition, it is straightforward to define our own functions.</p>
<div id="case-study-compute-the-mean" class="section level4 hasAnchor" number="2.5.4.1">
<h4><span class="header-section-number">2.5.4.1</span> Case study: Compute the mean<a href="programming-with-data.html#case-study-compute-the-mean" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>To illustrate the point of how functions work in R and how we can write our own functions in R, the following code-example illustrates how to implement a function that computes the mean/average value, given a numeric vector.</p>
<p>First, we initiate a simple numeric vector which we then use as an example to test the function. Whenever you implement a function, it is very useful to first define a simple example of an input for which you know what the output should be.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="programming-with-data.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a simple integer vector, for which we want to compute the Mean</span></span>
<span id="cb70-2"><a href="programming-with-data.html#cb70-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">5.5</span>, <span class="fl">7.5</span>)</span>
<span id="cb70-3"><a href="programming-with-data.html#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="co"># desired functionality and output:</span></span>
<span id="cb70-4"><a href="programming-with-data.html#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="co"># my_mean(a)</span></span>
<span id="cb70-5"><a href="programming-with-data.html#cb70-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 6.5</span></span></code></pre></div>
<p>In this example, we would thus expect the output to be <code>6.5</code>. Later, we will compare the output of our function with this in order to check whether our function works as desired.</p>
<p>In addition to defining a simple example and the desired output, it makes sense to also think about <em>how</em> the function is expected to produce this output. When implementing functions related to statistics (such as the mean), it usually makes sense to have a look at the mathematical definition:</p>
<p><span class="math inline">\(\bar{x} = \frac{1}{n}\left (\sum_{i=1}^n{x_i}\right ) = \frac{x_1+x_2+\cdots +x_n}{n}\)</span>.</p>
<p>Now, we can start thinking about implementing the function based on built-in R functions. From looking at the mathematical definition of the mean (<span class="math inline">\(\bar{x}\)</span>), we recognize that there are two main components to computing the mean:</p>
<ul>
<li><span class="math inline">\(\sum_{i=1}^n{x_i}\)</span>: the sum of all the elements in vector <span class="math inline">\(x\)</span></li>
<li><span class="math inline">\(n\)</span>: the number of elements in vector <span class="math inline">\(x\)</span>.</li>
</ul>
<p>Once we know how to get these two components, computing the mean is straightforward. In R, there are two built-in functions that deliver exactly these two components:</p>
<ul>
<li><code>sum()</code> returns the sum of all the values in I ts arguments (i.e., if <code>x</code> is a numeric vector, <code>sum(x)</code> returns the sum of all elements in <code>x</code>).</li>
<li><code>length()</code> returns the length of a given vector.</li>
</ul>
<p>With the following short line of code, we thus get the mean of the elements in vector <code>a</code>.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="programming-with-data.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(a)<span class="sc">/</span><span class="fu">length</span>(a)</span></code></pre></div>
<pre><code>## [1] 6.5</code></pre>
<p>All that is left to do is to pack all this into the function body of our newly defined <code>my_mean()</code> function:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="programming-with-data.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define our own function to compute the mean, given a numeric vector</span></span>
<span id="cb73-2"><a href="programming-with-data.html#cb73-2" aria-hidden="true" tabindex="-1"></a>my_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb73-3"><a href="programming-with-data.html#cb73-3" aria-hidden="true" tabindex="-1"></a>     x_bar <span class="ot">&lt;-</span> <span class="fu">sum</span>(x) <span class="sc">/</span> <span class="fu">length</span>(x)</span>
<span id="cb73-4"><a href="programming-with-data.html#cb73-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">return</span>(x_bar)</span>
<span id="cb73-5"><a href="programming-with-data.html#cb73-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Now we can test it based on our example:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="programming-with-data.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test it</span></span>
<span id="cb74-2"><a href="programming-with-data.html#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">my_mean</span>(a)</span></code></pre></div>
<pre><code>## [1] 6.5</code></pre>
<p>Moreover, we can test it by comparing it with the built-in <code>mean()</code> function:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="programming-with-data.html#cb76-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">7</span>)</span>
<span id="cb76-2"><a href="programming-with-data.html#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">my_mean</span>(b) <span class="co"># our own implementation</span></span></code></pre></div>
<pre><code>## [1] 4.667</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="programming-with-data.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(b) <span class="co"># the built_in function</span></span></code></pre></div>
<pre><code>## [1] 4.667</code></pre>

</div>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>In fact, since R is an open source environment, you can directly look at already implemented programs in order to learn how they work.<a href="programming-with-data.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>You can try this out in the R console by typing <code>is.vector(5.5)</code> and <code>is.vector("Hello")</code>.<a href="programming-with-data.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>Of course, on the very low level, everything that happens in a microprocessor can, in the end, be expressed in some formal way using math. However, the point here is that at the level we work with R, a function could simply process different text strings (i.e., stack them together). Thus for us as programmers, R functions do not necessarily have to do anything with arithmetic and numbers but could serve all kinds of purposes, including the parsing of HTML code, etc.<a href="programming-with-data.html#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 1
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["datahandling.pdf", "datahandling.html", "datahandling.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
